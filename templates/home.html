{% extends "base.html" %}

{% block title %}Home: Trope Suggestions{% endblock %}

{% block content %}
<h1>StoryHelp Suggestions</h1>
<span>Select whatever characters, topics, and genres you would like your story to include, or leave any item marked as
    none. Once you have finished with your selections, press "Submit." Our program will output a tropey narrative
    suggestion!</span>

<form action="/result" method="POST">
    <label for="genre-dropdown">What genre(s) is your story?</label>
    <div id="genre-container">
        <select name="genre" class="dropdown-container" id="genre-dropdown">
            {% for option in data["genres"] %}
            <option value="{{ option }}">{{ option }}</option>
            {% endfor %}
        </select>
    </div>
    <button type="button" onclick="addDropdown('genre-dropdown','genre-container')">Add Another Genre</button>

    <label for="character-dropdown">Which characters are involved?</label>
    <div id="character-container">
        <select name="character" class="dropdown-container" id="character-dropdown">
            {% for option in data["characters"] %}
            <option value="{{ option }}">{{ option }}</option>
            {% endfor %}
        </select>
    </div>
    <button type="button" onclick="addDropdown('character-dropdown','character-container')">Add Another
        Character</button>

    <label for="topic-dropdown">Any particular topics at play?</label>
    <div id="topic-container">
        <select name="topic" class="dropdown-container" id="topic-dropdown">
            {% for option in data["topics"] %}
            <option value="{{ option }}">{{ option }}</option>
            {% endfor %}
        </select>
    </div>
    <button type="button" onclick="addDropdown('topic-dropdown','topic-container')">Add Another Topic</button>

    <button type="submit" value="Submit">Submit</button>
</form>

<script>
    function addDropdown(child_id, parent_id) {
        var originalElement = document.getElementById(child_id);
        var clonedElement = originalElement.cloneNode(true);
        var parentElement = document.getElementById(parent_id);
        parentElement.appendChild(clonedElement);
    }
</script>
{% endblock %}